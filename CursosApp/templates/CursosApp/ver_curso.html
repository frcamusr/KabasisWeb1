{% extends "KabasisWebApp/base.html" %}

{% block content %}
    <section class="page-section cta" style="margin-top: 10px; margin-bottom: 10px;">
        <h1 style="text-align: center; color: white; margin-top: -50px;">{{ curso.nombre | upper }}</h1>
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <div class="text-center">
                        <a class="btn btn-success btn-block" href="{% url 'listar_unidad' curso.id%}">Administrar unidades</a>
                    </div>
                    <div class="mt-3">
                        {% for unidad in unidades %}
                        <button class="oval-button mb-3" onclick="handleButtonClick('{{ unidad.titulo }}')">
                            {{ unidad.titulo }}
                        </button>
                        {% endfor %}
                    </div>
                </div>
                <div class="col-md-8">
                    <div class="text-center p-4" style="background-color: white; border: 0.3cm solid #296FFA; border-radius: 5px; height:70vh">
                        <h2 style="margin-bottom: 0;">Sin Contenido</h2>
                    </div>
                </div>
                
            </div>
        </div>
    </section>

    <style>
        .oval-button {
            width: 220px;
            height: 100px;
            background-image: linear-gradient(to top, rgba(150, 0, 0, 0.6), #123989, #296FFA, rgba(150, 0, 0, 0.6));
            color: white;
            border-radius: 50%;
        }
    </style>


    <script>
        // Obtén una lista de todos los botones de las unidades
        var buttons = document.querySelectorAll('.oval-button');

        // Función para manejar el clic en los botones de las unidades
        function handleButtonClick(titulo) {
            // Actualiza el contenido en la columna derecha con el título de la unidad
            var contenidoDerecha = document.querySelector('.col-md-8 h2');
            contenidoDerecha.textContent = titulo;
        }

        // Asocia el evento de clic a cada botón de las unidades
        buttons.forEach(function(button) {
            button.addEventListener('click', function() {
                // Obtiene el título de la unidad del botón clicado
                var titulo = button.textContent.trim();

                // Llama a la función para manejar el clic y pasa el título de la unidad
                handleButtonClick(titulo);
            });
        });
    </script>
{% endblock %}

